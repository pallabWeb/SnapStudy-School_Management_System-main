$(function () {
  "use strict";
  feather.replace(),
    $(".preloader").fadeOut(),
    $(".nav-toggler").on("click", function () {
      $("#main-wrapper").toggleClass("show-sidebar"),
        $(".nav-toggler i").toggleClass("ti-menu");
    }),
    $(function () {
      $(".service-panel-toggle").on("click", function () {
        $(".customizer").toggleClass("show-service-panel");
      }),
        $(".page-wrapper").on("click", function () {
          $(".customizer").removeClass("show-service-panel");
        });
    }),
    $(function () {
      $('[data-bs-toggle="tooltip"]').tooltip();
    }),
    $(function () {
      $('[data-bs-toggle="popover"]').popover();
    }),
    $(
      ".message-center, .customizer-body, .scrollable, .scroll-sidebar"
    ).perfectScrollbar({ wheelPropagation: !0 }),
    $("body, .page-wrapper").trigger("resize"),
    $(".page-wrapper").delay(20).show(),
    $(".list-task li label").click(function () {
      $(this).toggleClass("task-done");
    }),
    $(".show-left-part").on("click", function () {
      $(".left-part").toggleClass("show-panel"),
        $(".show-left-part").toggleClass("ti-menu");
    }),
    $(".custom-file-input").on("change", function () {
      var e = $(this).val();
      $(this).next(".custom-file-label").html(e);
    });
});

// Function to remove the alert after 3 seconds
setTimeout(function () {
  var alertDiv = document.getElementById("Alert");
  alertDiv.classList.remove("show");
  setTimeout(function () {
    alertDiv.style.display = "none";
  }, 1000);
}, 3000);

// Function to validate checkboxes before form submission
document
  .getElementById("submitAttendance")
  .addEventListener("click", function () {
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');
    var checked = false;
    for (var i = 0; i < checkboxes.length; i++) {
      if (checkboxes[i].checked) {
        checked = true;
        break;
      }
    }
    if (!checked) {
      alert("Please select attendance for at least one student.");
    } else {
      document.getElementById("attendanceForm").submit();
    }
  });
